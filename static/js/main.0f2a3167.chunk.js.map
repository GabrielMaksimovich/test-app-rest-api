{"version":3,"sources":["styles/images/logo.svg","components/Header.tsx","components/Banner.tsx","api/fetchClient.ts","components/Cards.tsx","api/user.ts","components/Modal.tsx","components/LoginForm.tsx","components/Form.tsx","App.tsx","index.tsx"],"names":["Header","memo","className","href","src","logo","alt","type","Banner","BASE_URL","currentToken","localStorage","getItem","setCurrentToken","token","setItem","request","url","method","data","options","body","headers","Token","fetch","then","response","ok","status","resp","json","respDataObject","Error","client","Cards","useState","cards","setCards","useEffect","a","users","console","log","fetchData","map","card","photo","name","position","email","phone","id","Modal","onClose","onClick","LoginForm","photoFile","setPhotoFile","showModal","setShowModal","position_id","registration_timestamp","formValues","setFormValues","handleSubmit","e","preventDefault","formData","FormData","append","error","onSubmit","value","placeholder","onChange","prevValues","target","FormControl","FormLabel","RadioGroup","aria-labelledby","defaultValue","FormControlLabel","control","Radio","label","htmlFor","file","files","reader","FileReader","readAsDataURL","onload","String","Form","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0f2a3167.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.8bb55362.svg\";","import React, { memo } from 'react';\nimport logo from '../styles/images/logo.svg';\n\nexport const Header = memo(() => {\n  return (\n    <header className=\"header\">\n      <div className=\"header__content\">\n        <a className=\"header__logo\" href=\"/#\">\n          <img src={logo} alt=\"logo of the cat\" />\n        </a>\n\n        <nav className=\"nav\">\n          <button type=\"button\" className=\"btn\">Users</button>\n\n          <button type=\"button\" className=\"btn\">Sign up</button>\n        </nav>\n      </div>\n    </header>\n  );\n});\n","import React, { memo } from 'react';\n\nexport const Banner = memo(() => {\n  return (\n    <div className=\"banner\">\n      <div className=\"banner__content\">\n        <h1 className=\"banner__title\">Test assignment for front-end developer</h1>\n\n        <p className=\"banner__subtitle\">What defines a good front-end developer is one that has skilled knowledge of HTML, CSS, JS with a vast understanding of User design thinking as they will be building web interfaces with accessibility in mind. They should also be excited to learn, as the world of Front-End Development keeps evolving.</p>\n\n        <button type=\"button\" className=\"banner__button\">Sign up</button>\n      </div>\n    </div>\n  );\n});\n","import { TokenResponse } from '../types/user';\n\nconst BASE_URL = 'https://frontend-test-assignment-api.abz.agency/api/v1';\n\ntype RequestMethod = 'GET' | 'POST' | 'PATCH' | 'DELETE';\nconst currentToken = () => {\n  return localStorage.getItem('API_TOKEN') || '';\n};\n\nconst setCurrentToken = (token: string) => {\n  return localStorage.setItem('API_TOKEN', token);\n};\n\nfunction request<T>(\n  url: string,\n  method: RequestMethod = 'GET',\n  data: any = null,\n): Promise<T> {\n  const options: RequestInit = { method };\n\n  if (data) {\n    options.body = data;\n    options.headers = {\n      Token: currentToken(),\n    };\n  }\n\n  return fetch(BASE_URL + url, options)\n    .then(response => {\n      if (!response.ok) {\n        if (response.status === 401) {\n          return fetch(`${BASE_URL}/token`).then(resp => {\n            if (resp.ok) {\n              return resp.json();\n            }\n\n            return {} as TokenResponse;\n          })\n            .then((respDataObject: TokenResponse) => {\n              if (respDataObject.token) {\n                setCurrentToken(respDataObject.token);\n                // TODO add retry counter not to get into an infinite loop\n\n                return request(url, method, data);\n              }\n\n              throw Error('Cannot get token');\n            });\n        }\n\n        throw new Error();\n      }\n\n      return response.json();\n    });\n}\n\nexport const client = {\n  get: <T>(url: string) => request<T>(url),\n  post: <T>(url: string, data: any) => request<T>(url, 'POST', data),\n};\n","import React, { memo, useEffect, useState } from 'react';\nimport { getCards } from '../api/user';\nimport '../styles/main.scss';\nimport { User } from '../types/user';\n\nexport const Cards = memo(\n  () => {\n    const [cards, setCards] = useState< User[] | null >(null);\n\n    useEffect(() => {\n      const fetchData = async () => {\n        try {\n          const response = await getCards();\n\n          setCards(response.users);\n        } catch (error) {\n          // eslint-disable-next-line no-console\n          console.log(error);\n        }\n      };\n\n      fetchData();\n    }, []);\n\n    return (\n      <div className=\"card-profile\">\n        <h1 className=\"card-profile__title\">\n          Working with GET request\n        </h1>\n\n        <div className=\"card-profile__container\">\n          {cards && (\n            <>\n              {cards.map(card => (\n                <div key={card.id} className=\"card-box\">\n                  <img className=\"card-box__image\" src={card.photo} alt=\"\" />\n\n                  <div className=\"card-box__description description\">\n                    <p\n                      className=\"description__name\"\n                    >\n                      {card.name}\n                    </p>\n\n                    <p>{card.position}</p>\n\n                    <p>{card.email}</p>\n\n                    <p>{card.phone}</p>\n                  </div>\n                </div>\n              ))}\n            </>\n          )}\n        </div>\n\n        <button type=\"button\" className=\"btn\">\n          Show more\n        </button>\n      </div>\n    );\n  },\n);\n","import { Response } from '../types/user';\nimport { client } from './fetchClient';\n\nexport const getCards = () => {\n  return client.get<Response>('/users');\n};\n","import React, { memo } from 'react';\n\ntype closeModal = {\n  onClose: (value: boolean) => void;\n};\n\nexport const Modal: React.FC<closeModal> = memo(({ onClose }) => {\n  return (\n    <div className=\"modal\">\n      <div className=\"modal__content\">\n        <h2>User successfully registered!</h2>\n        <button type=\"button\" className=\"modal__close\" onClick={() => onClose(false)}>\n          Close\n        </button>\n      </div>\n    </div>\n  );\n});\n","import React, { useState } from 'react';\nimport {\n  FormControl,\n  FormControlLabel,\n  FormLabel,\n  Radio,\n  RadioGroup,\n} from '@mui/material';\nimport { client } from '../api/fetchClient';\nimport { User } from '../types/user';\nimport { Modal } from './Modal';\n\nfunction LoginForm() {\n  const [photoFile, setPhotoFile] = useState<Blob>();\n  const [showModal, setShowModal] = useState(false);\n  const [formValues, setFormValues] = useState<User>({\n    email: '',\n    id: '',\n    phone: '',\n    photo: '',\n    position: '',\n    position_id: '',\n    registration_timestamp: 0,\n    name: '',\n  });\n\n  const handleUsernameChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormValues((prevValues) => ({\n      ...prevValues,\n      name: e.target.value,\n    }));\n  };\n\n  const handleEmailChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormValues((prevValues) => ({\n      ...prevValues,\n      email: e.target.value,\n    }));\n  };\n\n  const handlePhoneChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormValues((prevValues) => ({\n      ...prevValues,\n      phone: e.target.value,\n    }));\n  };\n\n  const handlePositionChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormValues((prevValues) => ({\n      ...prevValues,\n      position_id: e.target.value,\n    }));\n  };\n\n  const handlePhotoChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n\n    if (!file) {\n      return;\n    }\n\n    const reader = new FileReader();\n\n    reader.readAsDataURL(file);\n\n    reader.onload = () => {\n      setPhotoFile(file);\n\n      setFormValues((prevValues) => ({\n        ...prevValues,\n        photo: String(file),\n      }));\n    };\n  };\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    const formData = new FormData();\n\n    formData.append('position_id', formValues.position_id);\n    formData.append('name', formValues.name);\n    formData.append('email', formValues.email);\n    formData.append('phone', formValues.phone);\n    formData.append('photo', formValues.photo);\n\n    if (photoFile) {\n      formData.append('photo', photoFile);\n    }\n\n    try {\n      const response = await client.post('/users', formData);\n\n      setShowModal(true);\n      // eslint-disable-next-line no-console\n      console.log(response);\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error(error);\n    }\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} className=\"login-form\">\n        <input\n          className=\"login-form__input\"\n          type=\"text\"\n          id=\"username\"\n          value={formValues.name}\n          placeholder=\"Your name\"\n          onChange={handleUsernameChange}\n        />\n        <input\n          className=\"login-form__input\"\n          type=\"email\"\n          id=\"email\"\n          value={formValues.email}\n          placeholder=\"Email\"\n          onChange={handleEmailChange}\n        />\n        <div className=\"login-form__phone-container\">\n          <input\n            className=\"login-form__input\"\n            type=\"tel\"\n            id=\"phone\"\n            value={formValues.phone}\n            placeholder=\"Phone\"\n            onChange={handlePhoneChange}\n          />\n          <p className=\"login-form__phone\">+38 (XXX) XXX - XX - XX</p>\n        </div>\n\n        <div className=\"login-form__select\">\n          <FormControl>\n            <FormLabel id=\"demo-radio-buttons-group-label\">Select your position</FormLabel>\n            <RadioGroup\n              aria-labelledby=\"demo-radio-buttons-group-label\"\n              defaultValue=\"Frontend developer\"\n              onChange={handlePositionChange}\n              value={formValues.position_id}\n              name=\"radio-buttons-group\"\n            >\n              <FormControlLabel value=\"1\" control={<Radio />} label=\"Frontend developer\" />\n              <FormControlLabel value=\"2\" control={<Radio />} label=\"Backend developer\" />\n              <FormControlLabel value=\"3\" control={<Radio />} label=\"Designer\" />\n              <FormControlLabel value=\"4\" control={<Radio />} label=\"QA\" />\n            </RadioGroup>\n          </FormControl>\n        </div>\n\n        <div className=\"login-form__upload\">\n          <div className=\"file has-name\">\n            <label className=\"file-label\" htmlFor=\"resume\">\n              <input\n                id=\"resume\"\n                className=\"file-input\"\n                type=\"file\"\n                name=\"resume\"\n                onChange={handlePhotoChange}\n              />\n              <span className=\"file-cta\">\n                <i className=\"fas fa-upload\"></i>\n                <div className=\"file-label\">\n                  Upload\n                </div>\n              </span>\n              <span className=\"file-name\">\n                {formValues.photo ? 'Picture uploaded' : 'No file chosen'}\n              </span>\n            </label>\n          </div>\n        </div>\n\n        <button\n          type=\"submit\"\n          className=\"login-form__button\"\n          onChange={() => handleSubmit}\n        >\n          Sign Up\n        </button>\n      </form>\n\n      {showModal && <Modal onClose={setShowModal} />}\n    </>\n  );\n}\n\nexport default LoginForm;\n","import React, { memo } from 'react';\nimport LoginForm from './LoginForm';\n\nexport const Form = memo(() => {\n  return (\n    <div className=\"form\">\n      <div className=\"form__content\">\n        <h1 className=\"form__title\">Working with POST request</h1>\n\n        <LoginForm />\n      </div>\n\n    </div>\n  );\n});\n","import React, { memo } from 'react';\nimport './styles/main.scss';\nimport { Header } from './components/Header';\nimport { Banner } from './components/Banner';\nimport { Cards } from './components/Cards';\nimport { Form } from './components/Form';\n\nexport const App: React.FC = memo(() => {\n  return (\n    <>\n      <Header />\n      <Banner />\n      <Cards />\n      <Form />\n    </>\n  );\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { App } from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}